.Dd July 20, 2019
.Dt MKSKEL 5
.Os
.Sh NAME
.Nm mkskel
.Nd skeleton file format
.Sh DESCRIPTION
.Ss Directory Structure
The environmental variable
.Ev SKELPATH
.Po
see
.Xr mkskel 1
.Pc
describes a list of directories that will be searched for skeletons.
Each of these directories should exclusively contain further directories,
whose names are the names of said skeletons.
.Ss Skeleton-Directory Structure
Each skeleton directory represents the structure of the skeleton that should be generated by
.Xr mkskel 1 .
.Pp
While most file names will be copied verbatim, files beginning with
.Li __OUT__
.Po
for example
.Li __OUT__.c
.Pc
will have the
.Li __OUT__
portion of their name substituted for the output name
.Po
either the value passed through the
.Fl o
option, or the basename of the target directory
.Pc .
.Ss Skeleton-File Forma
All the
.Pc regular
files from the skeleton directory will be copied as found.
The only processing rule is the replacement of variables with their values.
.Pp
A variable is prefixed with a dollar-sign
.Po
.Li $
.Pc
and the next 64 alphanumeric or underscore characters will be interpreted as the name.
The value that the variable will be replaced with will be deduced from the process environment.
.Pp
Hence
.Bd -literal -offset indent
/* file created by $USER */
.Ed
.Lp
would produce
.Bd -literal -offset indent
/* file created by phi */
.Ed
.Lp
in the generated file, under the assumption that users name is
.Dq phi .
.Ss Special Variables
Besides the already existing variables found in the environment
.Po
.Ev USER ,
.Ev SHELL ,
.Ev PWD ,
...
.Pc ,
.Xr mkskel 1
will also set special values for each specific file it generates.
.Pp
Currently these are:
.Bl -tag
.It Ev OUTPUT
Currently generated filename
.Po
ie. with the
.Li __OUT__
replaced for the output name
.Pc
.It Ev SKEL
Name of the current skeleton.
.It Ev SKELDIR
Directory this skeleton was found in.
.It Ev DATE
ISO formatted date of the time this file was generated.
.It Ev DATE_MDY
.Dq "monte day year"
formatted date of the time this file was generated.
.It Ev DATE_MDY
.Dq "day month year"
formatted date of the time this file was generated.
.El
.Sh SEE ALSO
.Xr mkskel 1
